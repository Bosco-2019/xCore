<div class="p-4">
  <p-panel header="xServer Registration">
    <div style="min-height:200px;">
      <div class="form-group">
        <div class='col-12 blockLabel'>
          xServer Name:
        </div>
        <div class='col blockText'>
          <input type="text" class="form-control" [(ngModel)]="xserverName" placeholder="Choose a name for the xServer" pInputText>
        </div>
      </div>
      <div class="form-group d-flex">
        <div class='col-3'>
          <div class='blockLabel'>
            Network Protocol:
          </div>
          <div class='col blockText' style="display: contents;">
            <p-dropdown [options]="protocols" [(ngModel)]="selectedProtocol" optionLabel="name" name="selectedProtocol"></p-dropdown>
          </div>
        </div>
        <div class='col-9'>
          <div class='blockLabel'>
            Key Address:
          </div>
          <div class='col blockText' style="display: contents;">
            <div class="myAddress d-flex">
              <p-dropdown [options]="allAddresses" placeholder="Choose a address" [(ngModel)]="keyAddress" name="keyAddress" autoWidth="false" [style]="{'width':'400px'}" filter="true">
                <ng-template let-item pTemplate="selectedItem">
                  ({{item.title}}) <span style="vertical-align:middle; margin-left: .5em">{{item.value}}</span>
                </ng-template>
                <ng-template let-address pTemplate="item">
                  <div class="ui-helper-clearfix" style="position: relative;height: 25px;">
                    ({{address.title}}) <span style="vertical-align:middle; margin-left: .5em">{{address.value}}</span>
                  </div>
                </ng-template>
              </p-dropdown>
              <p-selectButton [options]="copyType" ngxClipboard icon="pi pi-copy" (click)="copyToClipboardClicked()"></p-selectButton>
              <p-message *ngIf="copied" severity="success" class="ml-2"></p-message>
            </div>
          </div>
        </div>
      </div>
      <div class="form-group">
        <div class='col-12 blockLabel'>
          Network Address:
        </div>
        <div class='col blockText'>
          <input type="text" class="form-control" [(ngModel)]="networkAddress" placeholder="Public network address" pInputText>
        </div>
      </div>
      <div class="form-group">
        <div class="col-12 blockLabel">
          Network Port:
        </div>
        <div class="col blockText">
          <input type="text" class="form-control" [(ngModel)]="networkPort" placeholder="Open Port" pInputText>
        </div>
      </div>
      <div class="form-group">
        <div class="col-12 blockLabel">
          SID:
        </div>
        <div class="col blockText">
          <input type="text" class="form-control" [(ngModel)]="serverId" placeholder="xServer ID" pInputText>
        </div>
      </div>
      <div class="form-group">
        <div class="col-12 blockLabel">
          Wallet Password:
        </div>
        <div class="col blockText">
          <input type="password" class="form-control" [(ngModel)]="walletPassword" placeholder="Please enter your wallet password." pInputText>
        </div>
      </div>
      <div class="form-group">
        <div class="col-12 blockLabel">
          Tier <small class="text-primary">(Collateral required: <span style="font-weight: bold">{{ selectedTier }} {{ coinUnit }}</span>)</small>
        </div>
        <div class="col blockText">
          <p-selectButton [options]="tiers" [(ngModel)]="selectedTier"></p-selectButton>
        </div>
        <div class="col blockText" *ngIf="confirmedBalance < getTierCost()">
          <span style="font-weight: bold; color: red;">Not enough confirmed {{ coinUnit }} to register xServer. You need {{ selectedTier }} {{ coinUnit }}</span>
        </div>
      </div>
      <div class="form-group">
        <button type="submit" class="btn-block" (click)="onRegisterClick()" pButton label="Register"></button>
      </div>
    </div>
  </p-panel>
</div>
